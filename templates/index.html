<!DOCTYPE html>
<html lang="nl">

<head>
    {% include "head.html" %}
    
    <!---link naar CSS opmaak--->
    <link rel="stylesheet" type="text/css" href="../static/bootstrap/css/style_index.css">
</head>


<script>
    function getRecentData() {
        $.ajax({
            url: "/get_recent_data",
            type: "GET",
            success: function (ret_data) {
                let temp_value = document.getElementById("temperature-value");
                temp_value.innerHTML = ret_data['data']['temperature'];
                let humid_value = document.getElementById("humidity-value");
                humid_value.innerHTML = ret_data['data']['humidity'];
                let co2_value = document.getElementById("co2-value");
                co2_value.innerHTML = ret_data['data']['co2'];
                let pressure_value = document.getElementById("pressure-value");
                pressure_value.innerHTML = ret_data['data']['pressure'];
                let fijnstof_value = document.getElementById("fijnstof-value");
                fijnstof_value.innerHTML = ret_data['data']['pm'];
                let time_value = document.getElementById("time-value");
                time_value.innerHTML = ret_data['timestamp'];
            }
        })
    }
    getRecentData()
    myInterval = setInterval(getRecentData(), 5000);
</script>



<body>
    {% include "header.html" %}

    <section class="backgroundimage">
        <section class="col-1-4">
            <body>
                <div class="notification-container"></div>
                
                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
                <script src="../static/bootstrap/js/notifications.js"></script>
                <script >
                    checkForNotif()
                    myInterval = setInterval(function(){checkForNotif();}, 10000);
                </script>
            </body>
        </section>
            <section class="col-3-4">
                <div class="statistics">
                    <section class="col-1-3">
                        <div class="temp">
                            <h1 class="waardes-naam">Temperatuur</h1>
                            <h2 id="temperature-value" class="waardes-value"></h2>
                            <h2 class="waardes-eenheid">°C</h2>
                        </div>
                    </section>
                    <section class="col-1-3">
                        <div class="humid">
                            <h1 class="waardes-naam">Luchtvochtigheid</h1>
                            <h2 id="humidity-value" class="waardes-value"></h2>
                            <h2 class="waardes-eenheid">%</h2>
                        </div>
                    </section>
                    <section class="col-1-3">
                        <div class="co2">
                            <h1 class="waardes-naam">CO2 gehalte</h1>
                            <h2 id="co2-value" class="waardes-value"></h2>
                            <h2 class="waardes-eenheid">ppm</h2>
                        </div>
                    </section>
                    <section class="col-1-3">
                        <div class="pres">
                            <h1 class="waardes-naam">Luchtdruk</h1>
                            <h2 id="pressure-value" class="waardes-value"></h2>
                            <h2 class="waardes-eenheid">hPa</h2>
                        </div>
                    </section>
                    <section class="col-1-3">
                        <div class="qual">
                            <h1 class="waardes-naam">Fijnstof</h1>
                            <h2 id="fijnstof-value" class="waardes-value">-</h2>
                            <h2 class="waardes-eenheid">ppm</h2>
                        </div>
                    </section>
                    <section class="col-1-3">
                        <div class="overig">
                            <h1 class="waardes-naam">Laatst gezien</h1>
                            <h2 id="time-value" class="waardes-value"></h2>
                            <h2 class="waardes-eenheid">u</h2>
                        </div>
                    </section>
                </div>
                <div class="kaart">
                    <div class="kaart-text">
                        <!-- <h1 class="title">Route van de robot</h1> -->
                    </div>
                    <div class="kaart-img">
                        <!-- <canvas id="heatmap-canvas"></canvas> -->
                        <!-- <img id="heatmap-image" src="../static/images/kaart4de-verdieping-solid.png" alt="Plategrond van de 4de verdieping van de hogeschool utrecht heidelberglaan 15"> -->
                        <img id="heatmap-image" src="../static/images/kaart4de-verdieping-solid_heatmap.png" alt="Plategrond van de 4de verdieping van de hogeschool utrecht heidelberglaan 15">
                    </div>
                </div>
            </section>
        </section>

    </section>






    <!-- <script>
        // Functie om de heatmap te genereren
        function generateHeatmap() {
            // Definieer de coördinaten van de zones op de kaart
            var zones = [
                { x: 0, y: 0, width: 85, height: 75 },
                { x: 85, y: 0, width: 65, height: 75 },
                { x: 150, y: 0, width: 65, height: 75 },
                { x: 215, y: 0, width: 85, height: 75 },
                { x: 0, y: 75, width: 100, height: 75 },
                { x: 100, y: 75, width: 50, height: 75 },
                { x: 150, y: 75, width: 50, height: 75 },
                { x: 200, y: 75, width: 100, height: 75 }
            ];

            // Selecteer het canvas-element
            var canvas = document.getElementById('heatmap-canvas');
            var context = canvas.getContext('2d');

            // Selecteer het afbeeldingselement
            var image = document.querySelector('#heatmap-image');

            // Loop door elke zone en teken een rechthoek op het canvas
            zones.forEach(function(zone) {
                // Simuleer willekeurige hittekaartgegevens voor elke zone
                var heatmapValue = Math.random();

                // Pas de kleur van de rechthoek aan op basis van de heatmapgegevens
                var color = d3.interpolateViridis(heatmapValue);

                // Teken de rechthoek op het canvas
                context.fillStyle = color;
                context.fillRect(zone.x, zone.y, zone.width, zone.height);
        });
        }

        // Roep de functie aan om de heatmap te genereren wanneer de pagina is geladen
        window.onload = generateHeatmap;
    </script> -->


    <!-- <script>
        // Functie om de heatmap te genereren
        function generateHeatmap() {
            // Definieer de coördinaten van de zones op de kaart
            var zones = [
                { x: 0, y: 0, width: 85, height: 75 },
                { x: 85, y: 0, width: 65, height: 75 },
                { x: 150, y: 0, width: 65, height: 75 },
                { x: 215, y: 0, width: 85, height: 75 },
                { x: 0, y: 75, width: 100, height: 75 },
                { x: 100, y: 75, width: 50, height: 75 },
                { x: 150, y: 75, width: 50, height: 75 },
                { x: 200, y: 75, width: 100, height: 75 }
            ];

            // Selecteer het canvas-element
            var canvas = document.getElementById('heatmap-canvas');
            var context = canvas.getContext('2d');

            // Selecteer het afbeeldingselement
            var image = document.querySelector('#heatmap-image');

            // Wacht tot de afbeelding is geladen
            image.onload = function() {
                // Pas de grootte van het canvas aan op basis van de afbeelding
                canvas.width = image.width;
                canvas.height = image.height;

                // Teken de afbeelding op het canvas
                context.drawImage(image, 0, 0);

                // Loop door elke zone en teken een rechthoek op het canvas
                zones.forEach(function(zone) {
                // Simuleer willekeurige hittekaartgegevens voor elke zone
                var heatmapValue = Math.random();

                // Pas de kleur van de rechthoek aan op basis van de heatmapgegevens
                var color = d3.interpolateViridis(heatmapValue);

                // Teken de rechthoek op het canvas
                context.fillStyle = color;
                context.fillRect(zone.x, zone.y, zone.width, zone.height);
                });
            };
            }

        // Roep de functie aan om de heatmap te genereren wanneer de pagina is geladen
        window.onload = generateHeatmap;

    </script> -->





</body>


</html>