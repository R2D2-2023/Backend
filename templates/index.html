<!DOCTYPE html>
<html lang="en">

<!-- voor ajax functionaliteit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>

    <!---link naar CSS opmaak--->
    <link rel="stylesheet" type="text/css" href="../static/bootstrap/css/style_index.css">

    <!---boxicons link--->
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">

    <!----remixicons link--->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">

    <!---google fonts link --->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Poppins:ital,wght@1,300&display=swap"
        rel="stylesheet">
</head>

<script>
    function getRecentData(location, max_data) {
        if (location == undefined) {
            location = 1;
        }
        if (max_data == undefined) {
            max_data = 1;
        }
        $.ajax({
            url: "/get_recent_data",
            type: "GET",
            data: { 'location': location, 'limit': max_data },
            success: function (ret_data) {
                var temp_value = document.getElementById("temperature-value");
                temp_value.innerHTML = ret_data['data']['temperature'][0];
                var humid_value = document.getElementById("humidity-value");
                humid_value.innerHTML = ret_data['data']['humidity'][0];
                var co2_value = document.getElementById("co2-value");
                co2_value.innerHTML = ret_data['data']['co2'][0];
                var pressure_value = document.getElementById("pressure-value");
                pressure_value.innerHTML = ret_data['data']['pressure'][0];
                var time_value = document.getElementById("time-value");
                time_value.innerHTML = ret_data['timestamp'][0];
            }
        })
    }
    getRecentData()
    myInterval = setInterval(function () { getRecentData() }, 1000);
</script>



<body>
    <header>
        <a href={{ url_for('index') }} class="logo">Binnenklimaat</a>
        <ul class="navlist">
            <li><a href={{ url_for('index') }}>HOME</a></li>
            <li><a href={{ url_for('charts') }}>STATISTIEKEN</a></li>
            <li><a href={{ url_for('email') }}>ABONNEREN</a></li>
            <li><a href={{ url_for('dev') }}>LEGE PAGINA</a></li>
        </ul>
        <div class="bx bx-menu" id="menu-icon"></div>
    </header>

    <section class="backgroundimage">
        <section class="col-1-4">
            <body>
                <div class="notification-container"></div>
                
                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
                <script src="../static/bootstrap/js/notifications.js"></script>
                <script >
                    checkForNotif()
                    myInterval = setInterval(function(){checkForNotif();}, 10000);
                </script>
            </body>
        </section>
            <section class="col-3-4">
                <div class="statistics">
                    <section class="col-1-3">
                        <div class="temp">
                            <h1 class="waardes-naam">Temperatuur</h1>
                            <h2 id="temperature-value" class="waardes-value"></h2>
                            <h2 class="waardes-eenheid">°C</h2>
                        </div>
                    </section>
                    <section class="col-1-3">
                        <div class="humid">
                            <h1 class="waardes-naam">Luchtvochtigheid</h1>
                            <h2 id="humidity-value" class="waardes-value"></h2>
                            <h2 class="waardes-eenheid">%</h2>
                        </div>
                    </section>
                    <section class="col-1-3">
                        <div class="co2">
                            <h1 class="waardes-naam">CO2 gehalte</h1>
                            <h2 id="co2-value" class="waardes-value"></h2>
                            <h2 class="waardes-eenheid">ppm</h2>
                        </div>
                    </section>
                    <section class="col-1-3">
                        <div class="pres">
                            <h1 class="waardes-naam">Luchtdruk</h1>
                            <h2 id="pressure-value" class="waardes-value"></h2>
                            <h2 class="waardes-eenheid">hPa</h2>
                        </div>
                    </section>
                    <section class="col-1-3">
                        <div class="qual">
                            <h1 class="waardes-naam">Fijnstof</h1>
                            <h2 id="fijnstof-value" class="waardes-value">-</h2>
                            <h2 class="waardes-eenheid">µg/m3</h2>
                        </div>
                    </section>
                    <section class="col-1-3">
                        <div class="overig">
                            <h1 class="waardes-naam">Laatst gezien</h1>
                            <h2 id="time-value" class="waardes-value"></h2>
                            <h2 class="waardes-eenheid">u</h2>
                        </div>
                    </section>
                </div>
                <div class="kaart">
                    <div class="kaart-text">
                        <h1 class="title">Route van de robot</h1>
                    </div>
                    <div class="kaart-img">
                        <img src="../static/images/plategrond6.3.png"
                            alt="Plategrond van de 4de verdieping van de hogeschool utrecht heidelberglaan 15">
                    </div>
                </div>
            </section>
        </section>

    </section>





    <!-- scrollreveal effect -->
    <script src="https://unpkg.com/scrollreveal"></script>

    <!-- custom javascript link -->
    <script src="../static/bootstrap/js/script.js"></script>

</body>


</html>