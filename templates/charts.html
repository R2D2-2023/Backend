<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My first webpage</title>

    <!---link naar CSS opmaak--->
    <link rel="stylesheet" type="text/css" href="../static/bootstrap/css/style_charts.css">

    <!---boxicons link--->
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">

    <!----remixicons link--->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">

    <!---google fonts link --->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Poppins:ital,wght@1,300&display=swap"
        rel="stylesheet">
        
</head>

<!-- chart.js link -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- om de schaal van tijd te maken -->
<script src="https://cdn.jsdelivr.net/npm/luxon@3.3.0/build/global/luxon.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@^1.3.1"></script>

<!-- scrollreveal effect -->
<script src="https://unpkg.com/scrollreveal"></script>

<!-- custom javascript link
<script src="../static/bootstrap/js/script.js"></script> -->

<!-- voor ajax functionaliteit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<!-- javascript voor de grafiekjes, werkt niet doordat er variabelen nodig zijn uit de HTML file -->
<script src="{{url_for('static', filename='bootstrap/js/charts_script.js')}}"></script>


<body>
    <header>
        <a href={{ url_for('index') }} class="logo">Binnenklimaat</a>
        <ul class="navlist">
            <li><a href={{ url_for('index') }}>ACTUELE DATA</a></li>
            <li><a href={{ url_for('charts') }}>GESCHIEDENIS</a></li>
            <li><a href={{ url_for('lege_pagina') }}>NOTIFICATIES</a></li>
            <li><a href={{ url_for('lege_pagina') }}>LEGE PAGINA</a></li>
        </ul>
        <div class="bx bx-menu" id="menu-icon"></div>
    </header>


    <div class="backgroundimage">

        <div class="block_container">
            <div class="plategrond">
                <div class="plategrond-text">
                    <h5>dit is de text</h5>
                </div>
                <div class="plategrond-image">
                    <img src="../static/images/plategrond4.png"
                        alt="Plategrond van de 4de verdieping van de hogeschool utrecht heidelberglaan 15">
                </div>
            </div>
            <div class="notification">
                <div class="notification_title">
                    <h5>notifications</h5>
                </div>
                <div class="notification_content">
                    <h6>hier komen notificaties</h6>
                </div>
            </div>
        </div>



        <div class="block_container">
            <div class="temp">
                <!-- <div class="temp_text">
                    <h5>hier komt text</h5>
                </div> -->
                <div class="temp_chart">
                    <h8 class="niet_zichtbaar">niet zichtbare text</h8>
                    <canvas id="temp_chart"></canvas>
                </div>
            </div>
            <div class="CO2">
                <!-- <div class="CO2_text">
                    <h5>Hier komt text</h5>
                </div> -->
                <div class="CO2_chart">
                    <h8 class="niet_zichtbaar">niet zichtbare text</h8>
                    <canvas id="co2_chart"></canvas>
                </div>
            </div>
            <div class="temp_buttons">
                <button type="submit" id="button_10" name="button" onclick="updateCharts(charts, graphs, 10)" class="btn btn-primary">10</button>
                <button type="submit" id="button_50" name="button" onclick="updateCharts(charts, graphs, 50)" class="btn btn-primary">50</button>
                <button type="submit" id="button_100" name="button" onclick="updateCharts(charts, graphs, 100)"
                    class="btn btn-primary">100</button>
                <div>
                    <input type="range" min="1" max="100" value="10" class="slider" id="myRange"
                        oninput="updateCharts(charts, graphs, value)"></input>
                </div>
            </div>
        </div>

        <div class="block_container">
            <div class="humid">
                <!-- <div class="humid_text">
                    <h5>hier komt text</h5>
                </div> -->
                <div class="humid_chart">
                    <h8 class="niet_zichtbaar">niet zichtbare text</h8>
                    <canvas id="humid_chart"></canvas>
                </div>
            </div>
            <div class="pres">
                <!-- <div class="pres_text">
                    <h5>Hier komt text</h5>
                </div> -->
                <div class="pres_chart">
                    <h8 class="niet_zichtbaar">niet zichtbare text</h8>
                    <canvas id="pres_chart"></canvas>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    time_data = {{ get_recent_sensor_readings(0, 100) | safe }}
    temp_data = {{ get_recent_sensor_readings(1, 100) | safe }}
    co2_data = {{ get_recent_sensor_readings(2, 100) | safe }}
    humid_data = {{ get_recent_sensor_readings(3, 100) | safe }}
    pres_data = {{ get_recent_sensor_readings(4, 100) | safe }}
    let graphs = [
        new GraphData('temperature', 'temp_chart', temp_data, 'Temperature (Â°C)', time_data, '#28B414', '#C8F0C8', 20, 30),
        new GraphData('co2', 'co2_chart', co2_data, 'CO2 (ppm)', time_data, '#FF396A', '#FAACC2', 400, 1000),
        new GraphData('humidity', 'humid_chart', humid_data, 'Humidity (%)', time_data, '#39CF9A', '#82EDC7', 40, 60),
        new GraphData('pressure', 'pres_chart', pres_data, 'Air pressure (hPa)', time_data, '#FFAA00', '#FFD175', 1000, 1100)
    ];
    charts = createCharts(graphs);
    updateCharts(charts, graphs, 10);
    
    myInterval = setInterval(function(){getNewData(charts, graphs, 1)}, 1000);
</script>

</html>